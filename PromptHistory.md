## B站防刷视频插件 -基础功能 V1.0
我希望实现一个Edge浏览器插件，具体效果如下
- 只在B站相关网页时才会触发，具体到视频播放的页面
- 监测当前视频的类型，具体来说：
    - 根据视频标题，B站的标签，以及up主等信息综合考虑，判断视频类型（只做二分类任务，“有价值视频”和“无价值视频”）
    - “有价值视频”主要是指与学习相关主题的视频（例如在线的大学课程等），或者科普类的视频。
    - “无价值视频”主要是指广告视频、垃圾视频、非学习视频、纯娱乐等。尤其是时间长度短于3min的视频。
    - 定义一个阈值，当视频类型的概率超过阈值时，将视频标记为“无价值视频”
    - 特别地，已经存在在稍后在看列表中的视频，或者已经被用户收藏的视频都是“有价值视频”。
- 当预判视频类型为“无价值视频”时，自动弹出一个提示框，询问用户是否继续观看。如果用户选择继续观看，将该视频标记为“有价值视频”。
- 主要功能是提示用户是否继续观看视频，同时记录用户的行为，以便后续分析用户的观看习惯。

## 后续维护 1.1
测试发现离开页面的按钮不能正常实现，需要进一步修复bug。
此外，这一版本添加设定：离开页面的按钮将跳转到用户的稍后在看列表。

## 后续维护 1.2
进一步扩展判断视频类型的方法。提供一个开放给外部的API，以便用户可以自行添加判断视频类型的方法。
在弹出的提醒界面，添加判断视频类型为“无价值视频”的原因，以便用户更好地理解，例如：
- 标题中含有“搞笑“等无关词
- 标签中含有“王者荣耀“等禁止观看的词
- 视频时长小于3min
等等

## 后续维护 1.3
- 只在B站相关的网页中随时保持该扩展固定在工具栏。
- 对于当前正在播放的视频，点击插件的图标可以显示当前视频的分数和类型。
- 对于部分时间长度小于3min的视频，只是降低其分数，而不是直接将其标记为“无价值视频”。因为也有好的科普或教学演示视频比较短。
- 创建一个json文件，记录用户的行为，以便后续分析用户的观看习惯。并且作为本地的规则库，可以通过点击插件图标打开。

## 后续维护 1.4
- 对于list中的视频，不再弹出提醒框，而是直接将其标记为“有价值视频”。
- 实现一个本地规则库，用户可以自行添加规则，以便更好地判断视频类型。
- 在本地记录用户的行为，以json格式保存。包括时间、视频标题、视频链接、视频类型、是否继续观看等信息。

## 后续维护 1.5
- 记录用户的行为，以json格式保存。包括时间、视频相关信息（视频标题，视频的标签，视频链接）、判断视频类型原因、是否继续观看和等。在稍后可以借助这些信息，优化调整各规则的权重，从而进一步提高插件的效果。
- 当视频标签包含"学习"这个关键词时，会被多次计入分数，这可能导致评分不够准确。建议修改分析算法，对于同一类关键词（如"学习"）在标签中多次出现时，只计算一次加分，这样可以使评分更加合理。
- 将WatchRecord部分单独整理出去，作为一个单独的文件，并且把和规则、配置、记录相关的json文件都放到一个文件夹JsonFile
- 添加一个README.md文件，介绍插件的使用方法和功能。

## 后续维护 1.6
- 在本地JsonFile文件夹中保存用户的观看历史记录，以json格式保存。包括时间、视频相关信息（视频标题，视频的标签，视频链接）、判断视频类型原因、是否继续观看等信息。
- 检查你的持久化Json保存观看历史的代码
- BUG：插件提示原因“标签包含学习关键词: 数学”，然而这些和学习有关的才是“有价值视频”。清理一下你的规则库，不要判断反了。

## 后续维护 1.7
- 清理目前的代码，删除所有git stash的代码。
- 将内置的规则判断和配置逻辑进行分离，使得用户可以自定义规则和配置。保存在config.json文件中。就是说，用户可以在config.json文件中添加自己的规则，插件会自动加载并应用这些规则。其实和提供开放的API是一样
- 同样将标签库也分离出来，保存在tag.json文件中。
<!-- - 并且维护一个标签的库，将标签库中的关键词与视频的标签进行匹配，从而提高评分的准确性。
- 同时将用户跳过的视频的视频标签加入标签库，以便后续的评分。 -->